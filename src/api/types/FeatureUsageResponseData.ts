// This file was auto-generated by Fern from our API Definition.

import type * as Schematic from "../index.js";

export interface FeatureUsageResponseData {
    /** Whether further usage is permitted. */
    access: boolean;
    /** The maximum amount of usage that is permitted; a null value indicates that unlimited usage is permitted. */
    allocation?: number;
    /** The type of allocation that is being used. */
    allocation_type: FeatureUsageResponseData.AllocationType;
    company_override?: Schematic.CompanyOverrideResponseData;
    /** The rate at which credits are consumed per unit of usage */
    credit_consumption_rate?: number;
    credit_grant_counts?: Record<string, number>;
    credit_grant_details?: Schematic.CreditGrantDetail[];
    /** Reason for the credit grant */
    credit_grant_reason?: FeatureUsageResponseData.CreditGrantReason;
    credit_remaining?: number;
    credit_total?: number;
    /** Icon identifier for the credit type */
    credit_type_icon?: string;
    credit_used?: number;
    /** Effective limit for usage calculations. For overage pricing, this is the soft limit where overage charges begin. For tiered pricing, this is the first tier boundary. For other pricing models, this is the base allocation. Used to calculate usage percentages and determine access thresholds. */
    effective_limit?: number;
    /** Per-unit price for current usage scenario */
    effective_price?: number;
    entitlement_expiration_date?: string;
    entitlement_id: string;
    /** Source of the entitlement (plan or company_override) */
    entitlement_source?: string;
    entitlement_type: string;
    feature?: Schematic.FeatureDetailResponseData;
    /** Whether a valid allocation exists */
    has_valid_allocation?: boolean;
    /** Whether this is an unlimited allocation */
    is_unlimited?: boolean;
    /** The time at which the metric will reset. */
    metric_reset_at?: string;
    /** If the period is current_month, when the month resets. */
    month_reset?: string;
    monthly_usage_based_price?: Schematic.BillingPriceView;
    /** Amount of usage exceeding soft limit (overage pricing only) */
    overuse?: number;
    /** Percentage of allocation consumed (0-100+) */
    percent_used?: number;
    /** The period over which usage is measured. */
    period?: string;
    plan?: Schematic.PlanResponseData;
    plan_entitlement?: Schematic.PlanEntitlementResponseData;
    price_behavior?: string;
    /** The soft limit for the feature usage. Available only for overage price behavior */
    soft_limit?: number;
    /** The amount of usage that has been consumed; a null value indicates that usage is not being measured. */
    usage?: number;
    yearly_usage_based_price?: Schematic.BillingPriceView;
}

export namespace FeatureUsageResponseData {
    /** The type of allocation that is being used. */
    export const AllocationType = {
        Boolean: "boolean",
        Numeric: "numeric",
        Trait: "trait",
        Unlimited: "unlimited",
    } as const;
    export type AllocationType = (typeof AllocationType)[keyof typeof AllocationType];
    /** Reason for the credit grant */
    export const CreditGrantReason = {
        Free: "free",
        Plan: "plan",
        Purchased: "purchased",
    } as const;
    export type CreditGrantReason = (typeof CreditGrantReason)[keyof typeof CreditGrantReason];
}
