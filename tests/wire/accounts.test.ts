// This file was auto-generated by Fern from our API Definition.

import * as Schematic from "../../src/api/index";
import { SchematicClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("Accounts", () => {
    test("listApiKeys (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: [
                {
                    created_at: "2024-01-15T09:30:00Z",
                    description: "description",
                    environment_id: "environment_id",
                    id: "id",
                    last_used_at: "2024-01-15T09:30:00Z",
                    name: "name",
                    scopes: ["scopes"],
                    updated_at: "2024-01-15T09:30:00Z",
                },
            ],
            params: { environment_id: "environment_id", limit: 1, offset: 1, require_environment: true },
        };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.accounts.listApiKeys({
            environment_id: "environment_id",
            require_environment: true,
            limit: 1,
            offset: 1,
        });
        expect(response).toEqual({
            data: [
                {
                    created_at: "2024-01-15T09:30:00Z",
                    description: "description",
                    environment_id: "environment_id",
                    id: "id",
                    last_used_at: "2024-01-15T09:30:00Z",
                    name: "name",
                    scopes: ["scopes"],
                    updated_at: "2024-01-15T09:30:00Z",
                },
            ],
            params: {
                environment_id: "environment_id",
                limit: 1,
                offset: 1,
                require_environment: true,
            },
        });
    });

    test("listApiKeys (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("listApiKeys (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("listApiKeys (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("listApiKeys (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("listApiKeys (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("createApiKey (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = {
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                secret: "secret",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.createApiKey({
            name: "name",
        });
        expect(response).toEqual({
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                secret: "secret",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("createApiKey (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createApiKey({
                name: "name",
            });
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("createApiKey (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createApiKey({
                name: "name",
            });
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("createApiKey (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createApiKey({
                name: "name",
            });
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("createApiKey (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createApiKey({
                name: "name",
            });
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("createApiKey (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/api-keys")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createApiKey({
                name: "name",
            });
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("getApiKey (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .get("/api-keys/api_key_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.getApiKey("api_key_id");
        expect(response).toEqual({
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("getApiKey (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-keys/api_key_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiKey("api_key_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("getApiKey (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-keys/api_key_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiKey("api_key_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("getApiKey (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-keys/api_key_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiKey("api_key_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("getApiKey (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-keys/api_key_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiKey("api_key_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("updateApiKey (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = {
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.updateApiKey("api_key_id");
        expect(response).toEqual({
            data: {
                created_at: "2024-01-15T09:30:00Z",
                description: "description",
                environment_id: "environment_id",
                id: "id",
                last_used_at: "2024-01-15T09:30:00Z",
                name: "name",
                scopes: ["scopes"],
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("updateApiKey (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateApiKey("api_key_id");
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("updateApiKey (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateApiKey("api_key_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("updateApiKey (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateApiKey("api_key_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("updateApiKey (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateApiKey("api_key_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("updateApiKey (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/api-keys/api_key_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateApiKey("api_key_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("deleteApiKey (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { data: { deleted: true }, params: { key: "value" } };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.deleteApiKey("api_key_id");
        expect(response).toEqual({
            data: {
                deleted: true,
            },
            params: {
                key: "value",
            },
        });
    });

    test("deleteApiKey (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteApiKey("api_key_id");
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("deleteApiKey (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteApiKey("api_key_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("deleteApiKey (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteApiKey("api_key_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("deleteApiKey (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteApiKey("api_key_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("deleteApiKey (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/api-keys/api_key_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteApiKey("api_key_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("countApiKeys (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: { count: 1 },
            params: { environment_id: "environment_id", limit: 1, offset: 1, require_environment: true },
        };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.accounts.countApiKeys({
            environment_id: "environment_id",
            require_environment: true,
            limit: 1,
            offset: 1,
        });
        expect(response).toEqual({
            data: {
                count: 1,
            },
            params: {
                environment_id: "environment_id",
                limit: 1,
                offset: 1,
                require_environment: true,
            },
        });
    });

    test("countApiKeys (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.countApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("countApiKeys (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.countApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("countApiKeys (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.countApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("countApiKeys (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.countApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("countApiKeys (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-keys/count").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.countApiKeys({
                require_environment: true,
            });
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("listApiRequests (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: [
                {
                    api_key_id: "api_key_id",
                    ended_at: "2024-01-15T09:30:00Z",
                    environment_id: "environment_id",
                    id: "id",
                    method: "method",
                    req_body: "req_body",
                    request_type: "request_type",
                    resource_id: 1,
                    resource_id_string: "resource_id_string",
                    resource_name: "resource_name",
                    resource_type: "resource_type",
                    resp_code: 1,
                    secondary_resource: "secondary_resource",
                    started_at: "2024-01-15T09:30:00Z",
                    url: "url",
                    user_name: "user_name",
                },
            ],
            params: { environment_id: "environment_id", limit: 1, offset: 1, q: "q", request_type: "request_type" },
        };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.accounts.listApiRequests({
            q: "q",
            request_type: "request_type",
            environment_id: "environment_id",
            limit: 1,
            offset: 1,
        });
        expect(response).toEqual({
            data: [
                {
                    api_key_id: "api_key_id",
                    ended_at: "2024-01-15T09:30:00Z",
                    environment_id: "environment_id",
                    id: "id",
                    method: "method",
                    req_body: "req_body",
                    request_type: "request_type",
                    resource_id: 1,
                    resource_id_string: "resource_id_string",
                    resource_name: "resource_name",
                    resource_type: "resource_type",
                    resp_code: 1,
                    secondary_resource: "secondary_resource",
                    started_at: "2024-01-15T09:30:00Z",
                    url: "url",
                    user_name: "user_name",
                },
            ],
            params: {
                environment_id: "environment_id",
                limit: 1,
                offset: 1,
                q: "q",
                request_type: "request_type",
            },
        });
    });

    test("listApiRequests (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiRequests();
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("listApiRequests (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiRequests();
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("listApiRequests (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiRequests();
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("listApiRequests (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiRequests();
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("listApiRequests (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/api-requests").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listApiRequests();
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("getApiRequest (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: {
                api_key: {
                    created_at: "2024-01-15T09:30:00Z",
                    description: "description",
                    environment_id: "environment_id",
                    id: "id",
                    last_used_at: "2024-01-15T09:30:00Z",
                    name: "name",
                    scopes: ["scopes"],
                    updated_at: "2024-01-15T09:30:00Z",
                },
                api_key_id: "api_key_id",
                ended_at: "2024-01-15T09:30:00Z",
                environment_id: "environment_id",
                id: "id",
                method: "method",
                req_body: "req_body",
                request_type: "request_type",
                resource_id: 1,
                resource_id_string: "resource_id_string",
                resource_name: "resource_name",
                resource_type: "resource_type",
                resp_body: "resp_body",
                resp_code: 1,
                secondary_resource: "secondary_resource",
                started_at: "2024-01-15T09:30:00Z",
                url: "url",
                user_agent: "user_agent",
                user_id: "user_id",
                user_name: "user_name",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .get("/api-requests/api_request_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.getApiRequest("api_request_id");
        expect(response).toEqual({
            data: {
                api_key: {
                    created_at: "2024-01-15T09:30:00Z",
                    description: "description",
                    environment_id: "environment_id",
                    id: "id",
                    last_used_at: "2024-01-15T09:30:00Z",
                    name: "name",
                    scopes: ["scopes"],
                    updated_at: "2024-01-15T09:30:00Z",
                },
                api_key_id: "api_key_id",
                ended_at: "2024-01-15T09:30:00Z",
                environment_id: "environment_id",
                id: "id",
                method: "method",
                req_body: "req_body",
                request_type: "request_type",
                resource_id: 1,
                resource_id_string: "resource_id_string",
                resource_name: "resource_name",
                resource_type: "resource_type",
                resp_body: "resp_body",
                resp_code: 1,
                secondary_resource: "secondary_resource",
                started_at: "2024-01-15T09:30:00Z",
                url: "url",
                user_agent: "user_agent",
                user_id: "user_id",
                user_name: "user_name",
            },
            params: {
                key: "value",
            },
        });
    });

    test("getApiRequest (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/api_request_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiRequest("api_request_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("getApiRequest (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/api_request_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiRequest("api_request_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("getApiRequest (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/api_request_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiRequest("api_request_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("getApiRequest (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/api_request_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getApiRequest("api_request_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("countApiRequests (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: { count: 1 },
            params: { environment_id: "environment_id", limit: 1, offset: 1, q: "q", request_type: "request_type" },
        };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.countApiRequests({
            q: "q",
            request_type: "request_type",
            environment_id: "environment_id",
            limit: 1,
            offset: 1,
        });
        expect(response).toEqual({
            data: {
                count: 1,
            },
            params: {
                environment_id: "environment_id",
                limit: 1,
                offset: 1,
                q: "q",
                request_type: "request_type",
            },
        });
    });

    test("countApiRequests (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.countApiRequests();
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("countApiRequests (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.countApiRequests();
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("countApiRequests (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.countApiRequests();
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("countApiRequests (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.countApiRequests();
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("countApiRequests (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/api-requests/count")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.countApiRequests();
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("listEnvironments (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: [
                {
                    created_at: "2024-01-15T09:30:00Z",
                    environment_type: "environment_type",
                    id: "id",
                    name: "name",
                    updated_at: "2024-01-15T09:30:00Z",
                },
            ],
            params: { ids: ["ids"], limit: 1, offset: 1 },
        };
        server.mockEndpoint().get("/environments").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.accounts.listEnvironments({
            limit: 1,
            offset: 1,
        });
        expect(response).toEqual({
            data: [
                {
                    created_at: "2024-01-15T09:30:00Z",
                    environment_type: "environment_type",
                    id: "id",
                    name: "name",
                    updated_at: "2024-01-15T09:30:00Z",
                },
            ],
            params: {
                ids: ["ids"],
                limit: 1,
                offset: 1,
            },
        });
    });

    test("listEnvironments (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/environments").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listEnvironments();
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("listEnvironments (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/environments").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listEnvironments();
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("listEnvironments (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/environments").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listEnvironments();
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("listEnvironments (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/environments").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listEnvironments();
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("listEnvironments (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().get("/environments").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.listEnvironments();
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("createEnvironment (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = {
            data: {
                api_keys: [
                    {
                        created_at: "2024-01-15T09:30:00Z",
                        id: "id",
                        name: "name",
                        scopes: ["scopes"],
                        updated_at: "2024-01-15T09:30:00Z",
                    },
                ],
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.createEnvironment({
            environment_type: "development",
            name: "name",
        });
        expect(response).toEqual({
            data: {
                api_keys: [
                    {
                        created_at: "2024-01-15T09:30:00Z",
                        id: "id",
                        name: "name",
                        scopes: ["scopes"],
                        updated_at: "2024-01-15T09:30:00Z",
                    },
                ],
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("createEnvironment (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createEnvironment({
                environment_type: "development",
                name: "name",
            });
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("createEnvironment (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createEnvironment({
                environment_type: "development",
                name: "name",
            });
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("createEnvironment (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createEnvironment({
                environment_type: "development",
                name: "name",
            });
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("createEnvironment (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createEnvironment({
                environment_type: "development",
                name: "name",
            });
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("createEnvironment (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { environment_type: "development", name: "name" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/environments")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.createEnvironment({
                environment_type: "development",
                name: "name",
            });
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("getEnvironment (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            data: {
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .get("/environments/environment_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.getEnvironment("environment_id");
        expect(response).toEqual({
            data: {
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("getEnvironment (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/environments/environment_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getEnvironment("environment_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("getEnvironment (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/environments/environment_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getEnvironment("environment_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("getEnvironment (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/environments/environment_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getEnvironment("environment_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("getEnvironment (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/environments/environment_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.getEnvironment("environment_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("updateEnvironment (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = {
            data: {
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: { key: "value" },
        };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.updateEnvironment("environment_id");
        expect(response).toEqual({
            data: {
                created_at: "2024-01-15T09:30:00Z",
                environment_type: "environment_type",
                id: "id",
                name: "name",
                updated_at: "2024-01-15T09:30:00Z",
            },
            params: {
                key: "value",
            },
        });
    });

    test("updateEnvironment (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateEnvironment("environment_id");
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("updateEnvironment (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateEnvironment("environment_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("updateEnvironment (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateEnvironment("environment_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("updateEnvironment (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateEnvironment("environment_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("updateEnvironment (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .put("/environments/environment_id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.updateEnvironment("environment_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("deleteEnvironment (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { data: { deleted: true }, params: { key: "value" } };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.accounts.deleteEnvironment("environment_id");
        expect(response).toEqual({
            data: {
                deleted: true,
            },
            params: {
                key: "value",
            },
        });
    });

    test("deleteEnvironment (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteEnvironment("environment_id");
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("deleteEnvironment (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteEnvironment("environment_id");
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("deleteEnvironment (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteEnvironment("environment_id");
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("deleteEnvironment (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteEnvironment("environment_id");
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("deleteEnvironment (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .delete("/environments/environment_id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.accounts.deleteEnvironment("environment_id");
        }).rejects.toThrow(Schematic.InternalServerError);
    });

    test("quickstart (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { data: { ok: true }, params: { key: "value" } };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.accounts.quickstart();
        expect(response).toEqual({
            data: {
                ok: true,
            },
            params: {
                key: "value",
            },
        });
    });

    test("quickstart (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.quickstart();
        }).rejects.toThrow(Schematic.BadRequestError);
    });

    test("quickstart (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.quickstart();
        }).rejects.toThrow(Schematic.UnauthorizedError);
    });

    test("quickstart (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.quickstart();
        }).rejects.toThrow(Schematic.ForbiddenError);
    });

    test("quickstart (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.quickstart();
        }).rejects.toThrow(Schematic.NotFoundError);
    });

    test("quickstart (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SchematicClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server.mockEndpoint().post("/quickstart").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.accounts.quickstart();
        }).rejects.toThrow(Schematic.InternalServerError);
    });
});
